---
title: R 教學 - CH01 基本語法
author: seimwiwa
date: '2017-08-26'
slug: r-教學-ch01-基本語法
categories:
  - R tutorial
tags:
  - R
  - tutorial
  - 物件定義
  - 運算
  - 儲存型態
  - 資料物件
  - 查看物件
---

#基本語法

***
本章節主要談論五個基本觀念：物件定義、運算、儲存型態、資料物件、查看物件。

##物件定義

***

在R中要定義物件時有兩種符號可以使用，分別是**=**與**<-**。

若要定義物件a為數字1可輸入：

```{r}
a<-1
```

當要查看物件a時則呼叫a，系統就會顯示a所代表之數據。：

```{r}
a
```

若要定義物件b為數字2也可以輸入：

```{r}
b<-2
```

查看物件b

```{r}
b
```

```{r}
a=c(1,2,3,4,5)
```

~~~~~
提示：
當定義的物件是一串識字或文字的時候，使用c()，表達其為一個向量。c是一個將物件結合成向量或清單的函數，c()函數中放入的即是要結合為向量或清單的物件。
~~~~~

查看物件a
```{r}
a
```

定義物件b是一個包含aa,bb,cc的文字向量：

```{r}
b=c("aa","bb","cc")
```

~~~~~
提示：
在R中文字與數字的區別是數字將不會使用引號：””、’’，文字則使用引號””、’’，在R中若沒有使用引號的文字會被判定為物件，但數字使用引號時則被定義為文字。
~~~~~

查看b物件

```{r}
b
```


##運算	

***

R中的算術運算符號有下面幾種：

* 相加：+	
* 相減：-	
* 相乘：*	
* 相除：/	
* 指數：^ 或 **	
* 取餘數：x %% y	
* 取商數：x %/% y	

定義物件a與b為1與2：

```{r}
a=1;b=2
```

定義物件c為物件a、b之合：

```{r}
c=a+b
```

查看物件c

```{r}
c
```

計算物件a、b之差：

```{r}
a-b
```

計算物件a、b之積：

```{r}
a*b
```

計算a、b物件相除：

```{r}
a/b
```

除了數學運算的符號，還可能需要邏輯運算，下面是R中的邏輯運算符號：

* 小於：< 
* 小於等於：<=  
* 大於：> 
* 大於等於：>=  
* 相等：==  
* 不相等：!=  

計算a是否小於b：

```{r}
a<b
```

~~~~~
提示：
在R中TRUE與FALSE是邏輯向量，可以被表示為T或F。而TRUE表示計算的內容為真；反之為假。
~~~~~

計算a是否小於等於b：

```{r}
a<=b
```

計算a是否大於b：

```{r}
a>b
```

計算a是否大於等於b：

```{r}
a>=b
```

計算a、b是否相等：

```{r}
a==b
```

##儲存型態

***

R中有許多種儲存資料的型態一般常見到的有四種：

  整數：Integer 
  數字：Numeric 
  文字：Character 
  邏輯：Logical 

另外也有雙精度浮點數double、複數complex等，但很少用到。

將a定義為文字1

```{r}
a="1"
```

此時若將a物件與1相加，則出現錯誤，因為a是一個文字：

```{r,error=TRUE}
a+1
```

可以使用class來查看a的資料儲存類型：

~~~~~
提示：
class是察看物件儲存型態的工具，class()函數內放置的就是想要知道儲存型態的物件。
~~~~~

```{r}
class(a)
```

定義b為數字1：

```{r}
b=1
```

查看b的資料類型：

```{r}
class(b)
```

定義a為邏輯，真：

```{r}
a=TRUE
```

查看a

```{r}
a
```

查看a的資料類型：

```{r}
class(a)
```

##資料物件

***

上述的資料儲存類型：整數、數字、文字、邏輯可以被收納在資料物件之中，而種資料物件可以是一個向量vector、矩陣matrix、資料格data.frame、清單list等等。

定義a為一個向量，其中包含1,3,5,7,9等數字：

```{r}
a=c(1,3,5,7,9)
a
```

定義a為一個包含數字1到5的向量：

~~~~~
提示：
在數字間的運算時如果使用:可以代表一數列，其起始與終結的數字則在:的左右兩側。
~~~~~

```{r}
a=1:5
a
```

使用seq定義數列a從1開始到5，每個數字間格為0.5：

~~~~~
提示：
seq是產生數列函數

其中常用的命令包含：
from  起始值  
to  終結值  
by  間隔值  
length.out  輸出數列長度  
~~~~~

```{r}
a=seq(from=1,to=5,by=0.5)
a
```

使用matrix創建一個矩陣物件a，矩陣包含5列5行，數值填滿為0.5。

~~~~~
提示：
matrix是一個用給定的值製造矩陣的函數
可以用as.matrix()來改變物件種類為矩陣
或用is.matrix()來查看物件是否為矩陣

其中常用的命令包含：
data  輸入的向量資料
nrow  列數
ncol  欄數
byrow 輸入的資料是否要逐列輸入
dimnames  矩陣的列嶼欄的名稱
~~~~~

```{r}
a=matrix(data=0.5,nrow=5,ncol=10)
a
```

查看物件a之屬性

```{r}
class(a)
```

首先讓兩個向量物件a與b為1到7與7到1：

```{r}
a=c(1,2,3,4,5,6,7)
b=c(7,6,5,4,3,2,1)
```

讓c物件是一個包含a欄與b欄的資料格：

~~~~~
提示：
data.frame是用於製造資料格的函數
放入data.frame()中的每項物件則會成為個別的欄位，而再data.frame函數中的物件可以是向量、矩陣或是另一個data.frame資料

其中常用的命令包含：
row.names 欄位名稱
check.rows  是否要確認資料長度是否一致
check.names 是否確認欄為名稱為不影響運算的字元
~~~~~

```{r}
c=data.frame(a,b)
c
```

查看物件c的屬性

```{r}
class(c)
```

設定四個物件d、e、f、g與物件c相同

```{r}
d=e=f=g=c
```

令物件h為一個清單，清單之中包含物件c、d、e、f、g

~~~~~
提示：
list函數能將函數內的物件組成清單，一般來說函數內就填入物件即可。
~~~~~

```{r}
h=list(c,d,e,f,g)
```

查看物件h的屬性

```{r}
class(h)
```

##查看物件

***

以下介紹各種查看物件的方法，如查看物件屬性class、欄位名稱names、colnames、列名稱row.names、資料頭幾列head、屬性與前幾項資料str、摘要summary等方法。

查看a物件屬性：

```{r}
class(a)
```

查看c物件欄位名稱：

~~~~~
提示：
names可以用來指定或查看物件的欄位名稱，通常會使用再data.frame與list上，但無法使用在matrix物件上。
~~~~~

```{r}
names(c)
```

查看c物件欄位名稱：

~~~~~
提示：
colnames可以用來指定或查看物件的欄位名稱，可以做用在matrix與data.frame物件但無法適用於list。
~~~~~

```{r}
colnames(c)
```

查看c物件列名稱：

~~~~~
提示：
row.names可以用來指定或查看物件的列名稱，可以做用在matrix與data.frame物件但無法適用於list。
~~~~~

```{r}
row.names(c)
```

查看c物件資料頭5列：

~~~~~
提示：
head在不特別指定情形下乃是呼叫物件資料的前五列

常用命令
n 指定要呈現的列數量
~~~~~

```{r}
head(c)
```

查看c物件頭2列：

~~~~~
提示：
中括號[]可以做用於各種資料儲存類型，如vector、data.frame、list、matrix等，通常一為度的資料vector只需要用[數字]就可以呼叫該數字序列的值，但data.frame資料為二維，所以用[列數字,欄數字]其逗號左方代表列，右方代表欄位數字。如果要呼叫list中資料則要使用兩個中括號[[數字]]。
~~~~~

```{r}
c[1:2,]
```

查看物件c屬性與前幾項資料：

```{r}
str(c)
```

查看物件c摘要：

```{r}
summary(c)
```

查看c資料第二欄位：

```{r}
c[,2]
```

查看c資料第二欄位：

~~~~~
提示：l
$字號代表某物件下的有記名資料，在data.frame中通常做為表示欄位名稱之用途也可以同時作用在list上。
~~~~~

```{r}
c$b
```

